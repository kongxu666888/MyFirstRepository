# éŸ³ä¹æ¨èç®¡ç†ç³»ç»Ÿ - éƒ¨ç½²è¯´æ˜

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### è½¯ä»¶ç¯å¢ƒ
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11
- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js**: 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬  
- **MySQL**: 5.7 æˆ–æ›´é«˜ç‰ˆæœ¬

### ç¡¬ä»¶è¦æ±‚
- **å†…å­˜**: æœ€å°‘ 4GB RAM
- **å­˜å‚¨**: æœ€å°‘ 2GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: éœ€è¦äº’è”ç½‘è¿æ¥ï¼ˆç”¨äºä¸‹è½½ä¾èµ–ï¼‰

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### æ–¹å¼ä¸€ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **ä¸‹è½½å¿…è¦è½¯ä»¶**
   - Python 3.8: https://www.python.org/ftp/python/3.8.10/python-3.8.10-amd64.exe
   - MySQL 5.7: https://dev.mysql.com/get/Downloads/MySQLInstaller/mysql-installer-community-5.7.44.0.msi
   - Node.js 18: https://nodejs.org/dist/v18.20.2/node-v18.20.2-x64.msi

2. **é…ç½®ç¯å¢ƒ**
   ```bash
   # åŒå‡»è¿è¡Œ
   setup_env.bat
   ```

3. **åˆå§‹åŒ–æ•°æ®åº“**
   ```bash
   # åŒå‡»è¿è¡Œ
   init_database.bat
   ```

4. **å¯åŠ¨ç³»ç»Ÿ**
   ```bash
   # åŒå‡»è¿è¡Œ
   start.bat
   ```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

#### æ­¥éª¤1ï¼šç¯å¢ƒå‡†å¤‡
```bash
# 1. åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# 2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate.bat

# 3. å®‰è£…åç«¯ä¾èµ–
cd server
pip install -r requirements.txt
cd ..

# 4. å®‰è£…å‰ç«¯ä¾èµ–
cd web
npm install
cd ..
```

#### æ­¥éª¤2ï¼šæ•°æ®åº“é…ç½®
```sql
-- 1. åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS python_music DEFAULT CHARSET utf8 COLLATE utf8_general_ci;

-- 2. å¯¼å…¥æ•°æ®
mysql -u root -p python_music < server/python_music.sql
```

#### æ­¥éª¤3ï¼šä¿®æ”¹é…ç½®
ç¼–è¾‘ `server/server/settings.py` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®ï¼š
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'python_music',   # æ•°æ®åº“å
        'USER': 'root',           # ç”¨æˆ·å
        'PASSWORD': 'ä½ çš„å¯†ç ',    # å¯†ç 
        'HOST': '127.0.0.1',
        'PORT': '3306',
    }
}
```

#### æ­¥éª¤4ï¼šå¯åŠ¨æœåŠ¡
```bash
# 1. å¯åŠ¨åç«¯æœåŠ¡
cd server
python manage.py runserver 127.0.0.1:8000

# 2. å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°å¼€å‘½ä»¤è¡Œçª—å£ï¼‰
cd web
npm run dev
```

## ğŸ“ è„šæœ¬æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶å | åŠŸèƒ½æè¿° |
|--------|----------|
| `setup_env.bat` | ç¯å¢ƒé…ç½®è„šæœ¬ï¼Œå®‰è£…ä¾èµ–å’Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ |
| `init_database.bat` | æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼Œåˆ›å»ºæ•°æ®åº“å¹¶å¯¼å…¥æ•°æ® |
| `start.bat` | ä¸€é”®å¯åŠ¨è„šæœ¬ï¼ŒåŒæ—¶å¯åŠ¨å‰åç«¯æœåŠ¡ |
| `stop.bat` | åœæ­¢æœåŠ¡è„šæœ¬ï¼Œå…³é—­æ‰€æœ‰ç›¸å…³è¿›ç¨‹ |
| `build_frontend.bat` | å‰ç«¯æ„å»ºè„šæœ¬ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒéƒ¨ç½² |

## ğŸŒ è®¿é—®åœ°å€

å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **å‰ç«¯é¡µé¢**: http://localhost:5173
- **åç«¯API**: http://localhost:8000  
- **ç®¡ç†åå°**: http://localhost:8000/admin

## ğŸ‘¤ é»˜è®¤è´¦å·

- **ç®¡ç†å‘˜ç”¨æˆ·å**: admin123
- **ç®¡ç†å‘˜å¯†ç **: admin123

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨
**é—®é¢˜**: å¯åŠ¨æ—¶æç¤ºç«¯å£8000æˆ–5173è¢«å ç”¨
**è§£å†³**: 
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :8000
netstat -ano | findstr :5173

# ç»“æŸå ç”¨è¿›ç¨‹
taskkill /f /pid [è¿›ç¨‹ID]

# æˆ–è¿è¡Œåœæ­¢è„šæœ¬
stop.bat
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥
**é—®é¢˜**: æç¤ºæ•°æ®åº“è¿æ¥é”™è¯¯
**è§£å†³**:
1. ç¡®è®¤MySQLæœåŠ¡å·²å¯åŠ¨
2. æ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤æ•°æ®åº“å·²åˆ›å»º
4. é‡æ–°è¿è¡Œ `init_database.bat`

### 3. Pythonä¾èµ–å®‰è£…å¤±è´¥
**é—®é¢˜**: pipå®‰è£…ä¾èµ–æ—¶å‡ºé”™
**è§£å†³**:
```bash
# å‡çº§pip
python -m pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒæº
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

### 4. å‰ç«¯ä¾èµ–å®‰è£…å¤±è´¥
**é—®é¢˜**: npmå®‰è£…ä¾èµ–æ—¶å‡ºé”™
**è§£å†³**:
```bash
# æ¸…ç†ç¼“å­˜
npm cache clean --force

# ä½¿ç”¨æ·˜å®é•œåƒ
npm install --registry https://registry.npmmirror.com

# æˆ–ä½¿ç”¨yarn
yarn install
```

## ğŸ“ å¼€å‘è¯´æ˜

### ç›®å½•ç»“æ„
```
music_py_vue/
â”œâ”€â”€ server/          # Djangoåç«¯
â”‚   â”œâ”€â”€ manage.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ server/      # é¡¹ç›®é…ç½®
â”‚   â””â”€â”€ myapp/       # åº”ç”¨ä»£ç 
â”œâ”€â”€ web/             # Vueå‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ venv/            # Pythonè™šæ‹Ÿç¯å¢ƒ
â”œâ”€â”€ setup_env.bat    # ç¯å¢ƒé…ç½®è„šæœ¬
â”œâ”€â”€ start.bat        # å¯åŠ¨è„šæœ¬
â””â”€â”€ stop.bat         # åœæ­¢è„šæœ¬
```

### å¼€å‘æ¨¡å¼
```bash
# åç«¯å¼€å‘
cd server
python manage.py runserver --settings=server.settings_dev

# å‰ç«¯å¼€å‘
cd web
npm run dev
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# æ„å»ºå‰ç«¯
build_frontend.bat

# é…ç½®ç”Ÿäº§ç¯å¢ƒ
# ä¿®æ”¹settings.pyä¸­çš„DEBUG=False
# é…ç½®ALLOWED_HOSTS
# ä½¿ç”¨nginxæˆ–Apacheéƒ¨ç½²é™æ€æ–‡ä»¶
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·è”ç³»ï¼š
- **é‚®ç®±**: kefu308@gmail.com
- **å¾®ä¿¡**: Lengqin1024

## ğŸ” ç³»ç»Ÿæ£€æŸ¥

è¿è¡Œ `check_system.bat` å¯ä»¥æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒæ˜¯å¦æ»¡è¶³è¦æ±‚ã€‚

---

**æ³¨æ„**: æœ¬ç³»ç»Ÿä»…ä¾›å­¦ä¹ ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³ç‰ˆæƒåè®®ã€‚
